<div ng-include src="'views/menu.html'"></div>

<alert ng-repeat="alert in alerts" type="alert.type" close="closeAlert($index)">{{alert.msg}}</alert>

<div class="panel panel-default">
  <div class="panel-heading">
    <h3 class="panel-title">{{titulo}}</h3>
  </div>

  <div class="panel-body">

    <form name="form" novalidate ng-submit="salva()">

      <div class="form-group"
           ng-class="{ 'has-error' : form.nossoNumero.$invalid && !form.nossoNumero.$pristine }">
        <label>Nosso número</label>
        <input type="text" name="nossoNumero" class="form-control" ng-model="item.nossoNumero"
               placeholder="Nosso número"
               autofocus required my-focus="true">

        <p ng-show="form.nossoNumero.$invalid && !form.nossoNumero.$pristine"
           class="help-block">Nosso número é obrigatório</p>
      </div>

      <div class="form-group"
           ng-class="{ 'has-error' : form.descricao.$invalid && !form.descricao.$pristine }">
        <label>Descrição</label>
        <input type="text" name="descricao" class="form-control" ng-model="item.descricao" placeholder="Descrição"
               required>

        <p ng-show="form.descricao.$invalid && !form.descricao.$pristine"
           class="help-block">Descrição é obrigatório</p>
      </div>

      <div class="form-group" ng-class="{ 'has-error' : form.endereco.$invalid && !form.endereco.$pristine }">
        <label>Endereço</label>
        <input type="text" name="endereco" class="form-control" ng-model="item.endereco" placeholder="Endereço"
               required>

        <p ng-show="form.endereco.$invalid && !form.endereco.$pristine"
           class="help-block">Endereço é obrigatório</p>
      </div>

      <div class="form-group"
           ng-class="{ 'has-error' : form.secretaria.$invalid && !form.secretaria.$pristine }">
        <label>Secretaria</label>
        <select class="form-control" ng-model="item.secretaria" required
                ng-options="secretaria._id as secretaria.nome for secretaria in secretarias">
          <option value="">Selecione uma secretaria...</option>
        </select><br>

        <p ng-show="form.secretaria.$invalid && !form.secretaria.$pristine"
           class="help-block">Secretaria é obrigatória</p>
      </div>

      <button class="btn btn-primary" type="submit" ng-disabled="form.$invalid " title="OK">
        <span class="glyphicon glyphicon-ok"></span> OK
      </button>

      <a ng-href="{{listaHref}}" class="btn btn-default" title="Cancelar">
        <span class="glyphicon glyphicon-remove"></span> Cancelar
      </a>

    </form>
  </div>
</div>

